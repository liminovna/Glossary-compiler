# Glossary-compiler
Этот пакет предназначен для подготовки глоссария на основе книги на русском или английском языках.
Запуск возможен из командной строки, где можно передать параметры -- язык, на котором написана книга, название файла количество возвращаемых уни- и биграмм.
В результате возвращается csv файл, где перечислены сами n-граммы, их абсолютная частота и примеры употребления из книги. 

На данный момент поддерживаются форматы: pdf, txt, epub, docx, fb2

## Пример использования:
Чтобы вытащить из книги на английском языке General_Neurosurgery_William_Couldwell_Basant.pdf (лежит в папке рядом со скриптом) 100 самых частотных слов и биграмм, нужно ввести следующую команду:
```
>>> python main.py -f "General_Neurosurgery_William_Couldwell_Basant.pdf" -l en -n 100
```
Эту книжку программа обработала за 20 с лишним минут (этап подсчета статистик занял 1408.5514 секунд).

## Реализация
- Используется основных 4 класса:
  - TextProcessorRU и TextProcessorEN (составляют фабрику) для разбиения текста со страницы
  - GlossaryCounter -- класс, главная задача которого состоит в том, чтобы собрать статистики о словах и биграммах в словари 
  - GlossaryCompiler -- верхнеуровневый класс, который перехватывает словари от GlossaryCounter и объединяет их в финальные файлы
  - плюс классы кастомных ошибок с наследованием от класса Exception
- Сторонние библиотеки: pandas, pymupdf, nltk, razdel, pymorphy2, spacy
- "синтаксический сахар" типа `if a in b`, `if a`, unpacking, list comprehension, decorators, *args и **kwargs, assert, yield, контекстный менеджер
- Используются шаблоны проектирования Abstract Factory, Facade, Adapter, Builder и др.

## В планах
- добавить поддержку djvu с текстовым слоем, а то и целый ocr для pdf и djvu
- добавить кастомное правило для не-разбиения последовательностей, написанных через ' (например, Greenfield's), в сам пакет. Сейчас это правило добавлено в локальный код библиотеки razdel
- пересмотреть последовательность и инструменты для сегментации, токенизации и лемматизации. Пока для обоих языков не работает снятие омонимии
- учитывать перенос строк на границе страниц
- отдельный файл с глоссарием без примеров